"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getResponsiveSpace = exports.getResponsiveProp = exports.responsive = exports.rem = exports.fillCSSObject = void 0;
var constants_1 = require("../constants");
function fillCSSObject(propKeys, value) {
    return propKeys.reduce(function (obj, propKey) {
        obj[propKey] = value;
        return obj;
    }, {});
}
exports.fillCSSObject = fillCSSObject;
function rem(pixelValue) {
    if (pixelValue === 0)
        return 0;
    return pixelValue / 16 + "rem";
}
exports.rem = rem;
function responsive(media, values, callback) {
    var statements = values.map(callback);
    return statements.map(function (statement, mediaIndex) {
        var _a;
        if (mediaIndex === 0)
            return statement;
        return _a = {}, _a["@media screen and (min-width: " + media[mediaIndex - 1] + "px)"] = statement, _a;
    });
}
exports.responsive = responsive;
function getResponsiveProp(val, defaultVal) {
    if (val === undefined)
        return defaultVal || constants_1.EMPTY_ARRAY;
    return Array.isArray(val) ? val : [val];
}
exports.getResponsiveProp = getResponsiveProp;
function getResponsiveSpace(theme, props, spaceIndexes) {
    if (spaceIndexes === void 0) { spaceIndexes = constants_1.EMPTY_ARRAY; }
    if (!Array.isArray(spaceIndexes)) {
        throw new Error('the property must be array of numbers');
    }
    if (spaceIndexes.length === 0) {
        return null;
    }
    return responsive(theme.sanity.media, spaceIndexes, function (spaceIndex) {
        return fillCSSObject(props, rem(theme.sanity.space[spaceIndex]));
    });
}
exports.getResponsiveSpace = getResponsiveSpace;
//# sourceMappingURL=helpers.js.map